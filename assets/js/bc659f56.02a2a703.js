"use strict";(self.webpackChunkeclassify_docs=self.webpackChunkeclassify_docs||[]).push([[7505],{1469:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/htaccess_port-eec1e90cc379d8141838bfda152ec13a.png"},2941:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/web_running_port-2910ee2099bdf9e373a78a21bc033454.png"},6279:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/package_port-e2fddd8f9eb2130993ccb7905593872a.png"},6598:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/restart_pm2_process-7267cc4b16d9903bba4055d2b3beaa08.png"},7204:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"web-setup/update-site","title":"Update the Site","description":"Access the Server","source":"@site/docs/web-setup/update-site.md","sourceDirName":"web-setup","slug":"/web-setup/update-site","permalink":"/eClassify/docs/web-setup/update-site","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_position":13},"sidebar":"docs","previous":{"title":"Deploy to the Server","permalink":"/eClassify/docs/web-setup/deploy-to-server"},"next":{"title":"ChangeLog","permalink":"/eClassify/docs/change-log"}}');var r=s(4848),i=s(8453);const a={sidebar_position:13},o="Update the Site",c={},d=[{value:"Access the Server",id:"access-the-server",level:2},{value:"Check Running Port",id:"check-running-port",level:2},{value:"Update Port in Latest Code",id:"update-port-in-latest-code",level:2},{value:"Backup Current Code on Server",id:"backup-current-code-on-server",level:2},{value:"Upload Latest Code",id:"upload-latest-code",level:2},{value:"Install Dependencies",id:"install-dependencies",level:2},{value:"Build the Project",id:"build-the-project",level:2},{value:"Restart PM2 Process",id:"restart-pm2-process",level:2},{value:"Verify the Deployment",id:"verify-the-deployment",level:2}];function l(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"update-the-site",children:"Update the Site"})}),"\n",(0,r.jsx)(t.h2,{id:"access-the-server",children:"Access the Server"}),"\n",(0,r.jsx)(t.p,{children:"Connect to your server via SSH or open the terminal and navigate to your web code directory."}),"\n",(0,r.jsx)(t.h2,{id:"check-running-port",children:"Check Running Port"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"pm2 logs\n"})}),"\n",(0,r.jsx)(t.p,{children:"Run the PM2 logs command to check the port on which your website is currently running. Look for the NODE_PORT value displayed in the output."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Web running port",src:s(2941).A+"",width:"635",height:"322"})}),"\n",(0,r.jsx)(t.h2,{id:"update-port-in-latest-code",children:"Update Port in Latest Code"}),"\n",(0,r.jsx)(t.p,{children:"Open the package.json file in your latest code and update the NODE_PORT value to match the server's port. Also, update the .htaccess file with the same port."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Package port",src:s(6279).A+"",width:"755",height:"418"})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"htaccess port",src:s(1469).A+"",width:"922",height:"446"})}),"\n",(0,r.jsx)(t.h2,{id:"backup-current-code-on-server",children:"Backup Current Code on Server"}),"\n",(0,r.jsx)(t.p,{children:"Create a backup of the current code to avoid any data loss before removing it."}),"\n",(0,r.jsx)(t.h2,{id:"upload-latest-code",children:"Upload Latest Code"}),"\n",(0,r.jsx)(t.p,{children:"Delete the existing code from the server and upload the latest version."}),"\n",(0,r.jsx)(t.h2,{id:"install-dependencies",children:"Install Dependencies"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"npm i\n"})}),"\n",(0,r.jsx)(t.p,{children:"Navigate to the web code directory in the terminal and run npm i command to install all dependencies from the package.json file, ensuring the application functions properly."}),"\n",(0,r.jsx)(t.h2,{id:"build-the-project",children:"Build the Project"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"npm run build\n"})}),"\n",(0,r.jsx)(t.p,{children:"Execute the npm run build command to generate the necessary files for deployment. This step compiles the project and optimizes it for production."}),"\n",(0,r.jsx)(t.h2,{id:"restart-pm2-process",children:"Restart PM2 Process"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"pm2 restart id\n"})}),"\n",(0,r.jsx)(t.p,{children:"Restart the PM2 process by running the pm2 restart command followed by the process ID or name. This ensures the new version of the code is loaded and the application runs with the latest changes."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"restart pm2 process",src:s(6598).A+"",width:"1247",height:"159"})}),"\n",(0,r.jsx)(t.h2,{id:"verify-the-deployment",children:"Verify the Deployment"}),"\n",(0,r.jsx)(t.p,{children:"Check if the website is running properly by accessing it in a browser. If there are any issues, review the PM2 logs for errors and troubleshoot accordingly."})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>o});var n=s(6540);const r={},i=n.createContext(r);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);